<svg width="1200" height="630" viewBox="0 0 1200 630" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="630" fill="#0F172A"/>
  
  <!-- Grid Pattern (Subtle) -->
  <path d="M0 60H1200M0 120H1200M0 180H1200M0 240H1200M0 300H1200M0 360H1200M0 420H1200M0 480H1200M0 540H1200" stroke="#1E293B" stroke-width="2"/>
  <path d="M60 0V630M120 0V630M180 0V630M240 0V630M300 0V630M360 0V630M420 0V630M480 0V630M540 0V630M600 0V630M660 0V630M720 0V630M780 0V630M840 0V630M900 0V630M960 0V630M1020 0V630M1080 0V630M1140 0V630" stroke="#1E293B" stroke-width="2"/>

  <!-- Title -->
  <text x="600" y="80" text-anchor="middle" fill="#E2E8F0" font-family="system-ui, sans-serif" font-weight="bold" font-size="32">THE JAVASCRIPT EVENT LOOP</text>

  <!-- CALL STACK -->
  <g transform="translate(150, 150)">
    <rect width="250" height="350" rx="16" fill="#1E293B" stroke="#3B82F6" stroke-width="4"/>
    <text x="125" y="40" text-anchor="middle" fill="#60A5FA" font-family="system-ui, sans-serif" font-weight="bold" font-size="24">CALL STACK</text>
    
    <!-- Stack Frames -->
    <rect x="25" y="270" width="200" height="50" rx="8" fill="#3B82F6" fill-opacity="0.2" stroke="#3B82F6" stroke-width="2"/>
    <text x="125" y="302" text-anchor="middle" fill="#93C5FD" font-family="monospace" font-size="16">main()</text>
    
    <rect x="25" y="210" width="200" height="50" rx="8" fill="#3B82F6" fill-opacity="0.4" stroke="#3B82F6" stroke-width="2"/>
    <text x="125" y="242" text-anchor="middle" fill="#FFFFFF" font-family="monospace" font-size="16">console.log()</text>
  </g>

  <!-- WEB APIs -->
  <g transform="translate(800, 150)">
    <rect width="250" height="350" rx="16" fill="#1E293B" stroke="#10B981" stroke-width="4"/>
    <text x="125" y="40" text-anchor="middle" fill="#34D399" font-family="system-ui, sans-serif" font-weight="bold" font-size="24">WEB APIs</text>
    
    <!-- API Items -->
    <rect x="25" y="70" width="200" height="50" rx="8" fill="#10B981" fill-opacity="0.2" stroke="#10B981" stroke-width="2"/>
    <text x="125" y="102" text-anchor="middle" fill="#6EE7B7" font-family="monospace" font-size="16">setTimeout</text>
    
    <rect x="25" y="130" width="200" height="50" rx="8" fill="#10B981" fill-opacity="0.2" stroke="#10B981" stroke-width="2"/>
    <text x="125" y="162" text-anchor="middle" fill="#6EE7B7" font-family="monospace" font-size="16">fetch</text>
    
    <rect x="25" y="190" width="200" height="50" rx="8" fill="#10B981" fill-opacity="0.2" stroke="#10B981" stroke-width="2"/>
    <text x="125" y="222" text-anchor="middle" fill="#6EE7B7" font-family="monospace" font-size="16">DOM Events</text>
  </g>

  <!-- QUEUES -->
  <g transform="translate(450, 400)">
    <!-- Microtask Queue -->
    <rect x="0" y="0" width="300" height="60" rx="30" fill="#1E293B" stroke="#A855F7" stroke-width="3"/>
    <text x="150" y="38" text-anchor="middle" fill="#C084FC" font-family="system-ui, sans-serif" font-weight="bold" font-size="14">MICROTASK QUEUE (Promises)</text>
    
    <!-- Callback Queue -->
    <rect x="0" y="80" width="300" height="60" rx="30" fill="#1E293B" stroke="#F59E0B" stroke-width="3"/>
    <text x="150" y="118" text-anchor="middle" fill="#FCD34D" font-family="system-ui, sans-serif" font-weight="bold" font-size="14">CALLBACK QUEUE</text>
  </g>

  <!-- EVENT LOOP (Center Arrows) -->
  <g transform="translate(600, 275)">
    <circle cx="0" cy="0" r="40" stroke="#F472B6" stroke-width="8" stroke-opacity="0.2"/>
    <path d="M-20 -10 C-20 -30, 20 -30, 20 -10" stroke="#F472B6" stroke-width="4" fill="none" marker-end="url(#arrowhead)"/>
    <path d="M20 10 C20 30, -20 30, -20 10" stroke="#F472B6" stroke-width="4" fill="none" marker-end="url(#arrowhead)"/>
    <text x="0" y="5" text-anchor="middle" fill="#F472B6" font-family="system-ui, sans-serif" font-weight="bold" font-size="10">EVENT LOOP</text>
  </g>

  <!-- ARROWS (Flow) -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94A3B8"/>
    </marker>
  </defs>

  <!-- Call Stack to Web API -->
  <path d="M400 200 L800 200" stroke="#94A3B8" stroke-width="2" stroke-dasharray="8 8" marker-end="url(#arrowhead)"/>
  
  <!-- Web API to Queue -->
  <path d="M925 500 L925 570 L750 570" stroke="#94A3B8" stroke-width="2" stroke-dasharray="8 8" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Queue to Event Loop to Stack -->
  <path d="M450 430 L350 430 L350 500" stroke="#94A3B8" stroke-width="2" stroke-dasharray="8 8" fill="none" marker-end="url(#arrowhead)"/>

</svg>